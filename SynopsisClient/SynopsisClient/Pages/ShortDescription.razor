@page "/short-description"
@inject SynopsisClient.Model.SynopsisHandler Handler
@inject SynopsisClient.Model.UserManager UserManager
@inject NavigationManager Nav

<h2>Short description</h2>

@if (Handler.Synopsis == null
   || Handler.IsReloading)
{
    <p><em>Loading...</em></p>
}
else
{
    <div class="intro">

        <p>The short description will be used later in the social videos, in the title card</p>

        <p>Please follow the rules:</p>

        <ul style="font-weight: bold;">
            <li>The Short Description is required!</li>
            <li>Keep the Short Description between 40 and 150 characters</li>
        </ul>

        <p>For example:</p>

        <img src="/images/ShortDescription.png"
             title="Microsoft Glossary Social Video Title Card" />

    </div>

    <EditForm EditContext="@Handler.CurrentEditContext">
        <DataAnnotationsValidator />

        <ConfirmDialog Title="@Handler.ConfirmReloadDialogTitle"
                       ShowDialog="Handler.ShowConfirmReloadDialog"
                       OkText="Yes"
                       CancelText="No"
                       OnOkCancelClicked="Handler.ReloadConfirmationOkCancelClicked">
            <strong style="color:red ">Caution:</strong> If you click yes, you will lose <strong>all</strong> your local changes.
        </ConfirmDialog>

        <div class="edit-area">
            <InputTextArea @bind-Value="Handler.Synopsis.ShortDescription"
                           class="medium-input-text-area" />
        </div>

        <ValidationSummary />

        <div class="bottom-buttons-area">
            <button disabled="@Handler.CannotSave"
                    class="main-button"
                    @onclick="Handler.CheckSaveSynopsis">
                Save local
            </button>
            <button class="main-button"
                    @onclick="Handler.ReloadLocal">
                Reload local
            </button>
            <button class="main-button"
                    @onclick="Handler.ReloadFromCloud">
                Reload from cloud
            </button>
        </div>
    </EditForm>
}
